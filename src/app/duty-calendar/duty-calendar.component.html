<div class="calendar-container">
 <div class="header">
   <div class="left">
     <button class="nav-btn" (click)="prevMonth()">← 上一月</button>
     <button class="nav-btn" (click)="nextMonth()">下一月 →</button>
   </div>

   <div class="center">
     <h2>{{ viewDate | date:'yyyy 年 MMMM' }}</h2>
     <div class="duty-type-indicator">{{ getCurrentDutyTypeName() }}</div>
   </div>

   <div class="right">
     <button class="switch-btn" (click)="switchDutyType()">
       切換到{{ currentDutyType === 'normal' ? 'UAT測資小天使' : '一般值班' }}
     </button>
     <button class="action-btn" (click)="generateAutoSchedule()">重新自動排班</button>
     <button class="action-btn" (click)="showDutyList()">值班人員清單</button>
   </div>
 </div>

 <!-- 值班人員圖例 -->
 <div class="duty-legend">
   <ng-container *ngFor="let person of (currentDutyType === 'uat' ? uatDutyPeople : dutyPeople)">
     <div class="legend-item" *ngIf="person">
       <div class="color-indicator" [style.background-color]="person?.color?.primary"></div>
       <span>{{ person?.name }}</span>
     </div>
   </ng-container>
 </div>

 <mwl-calendar-month-view
   [viewDate]="viewDate"
   [events]="events"
   [weekStartsOn]="0">
 </mwl-calendar-month-view>

   <!-- (eventClicked)="handleEventClick($event.event)" -->
</div>
